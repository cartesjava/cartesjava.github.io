{{- define "apply_animation_shortcode" -}}{{ $params := newScratch }}{{ $args := .Get "args" }}{{ $src := "" }}{{ $base64 := "" }}{{ if reflect.IsSlice $args }}{{ $src = index $args 0 }}{{ $base64 = index $args 1 }}{{ else }}{{ $src = $args.Get "src" }}{{ if not $src }}{{ $src = $args.Get 0}}{{ end }}{{ $base64 = $args.Get "base64" }}{{ if not $base64 }}{{ $base64 = $args.Get 1}}{{ end }}{{ end }}{{ $params.Set "src" $src }}{{ $params.Set "base64" $base64 }}{{ $context := .Get "context" }}{{ template "animation" $params }}{{- end -}}