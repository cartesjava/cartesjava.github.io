{{- define "apply_link_shortcode" -}}{{ $params := newScratch }}{{ $args := .Get "args" }}{{ $context := .Get "context" }}{{ $base_path := $context.Page.File.Dir }}{{ $src := "" }}{{ $text := "" }}{{ if reflect.IsSlice $args }}{{ $src = index $args 0 }}{{ $text = index $args 1 }}{{ else }}{{ $src = $args.Get "src" }}{{ $text = $args.Get "text" }}{{ if not $src }}{{ $src = $args.Get 0 }}{{ end }}{{ if not $text }}{{ $text = $args.Get 1 }}{{ end }}{{ end }}{{ $params.Set "src" $src }}{{ $params.Set "text" $text }}{{ $params.Set "base_path" $base_path }}{{ template "link" $params }}{{- end -}}